<?xml version="1.0"?>
<ruleset name="Magento2-Module">
    <description>Optimized Magento 2.4+ module ruleset for PHPCS.</description>

    <!-- Exclude generated or non-module directories -->
    <exclude-pattern>vendor/*</exclude-pattern>
    <exclude-pattern>generated/*</exclude-pattern>
    <exclude-pattern>pub/static/*</exclude-pattern>
    <exclude-pattern>app/etc/*</exclude-pattern>
    <exclude-pattern>*/docs/*</exclude-pattern>
    <exclude-pattern>*.sh</exclude-pattern>

    <!-- Base Magento standard -->
    <rule ref="Magento2">
        <!-- Silence deprecated LESS/CSS warnings -->
        <exclude name="Magento2.Less.BracesFormatting"/>
        <exclude name="Magento2.Less.Indentation"/>
    </rule>

    <!-- Disable LESS class naming globally if needed -->
    <rule ref="Magento2.Less.ClassNaming">
        <severity>0</severity>
    </rule>

    <!-- Disable GraphQL sniffs if your module doesn't use it -->
    <rule ref="Magento2.GraphQL">
        <severity>0</severity>
    </rule>

    <!-- PSR12 coding standard -->
    <rule ref="PSR12"/>

    <!-- PHPCompatibility for a specific PHP version -->
    <rule ref="PHPCompatibility">
        <arg name="testVersion" value="8.2-"/>
    </rule>

    <!-- Limit to PHP files -->
    <arg name="extensions" value="php,phtml"/>
</ruleset>
